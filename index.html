<!DOCTYPE html>
<html>
  <head>
    <title>2486 - Coconuts Scouting</title>
    <script src="assets/jquery-3.6.1.min.js"></script>
    <script src="assets/bootstrap.min.js"></script>
    <script src="assets/qrcode.min.js"></script>
    <script src="sw.js"></script>
    <link rel="stylesheet" href="assets/bootstrap.min.css">
    <style>
      body {
        touch-action: manipulation;
      }
      label {
        font-weight: bold;
        margin-top: 1rem;
      }
      .form-label {
        margin-bottom: 0.1rem;
      }
      .form-check label {
        font-weight: normal;
        margin-top: auto;
      }
      .btn-huge {
        --bs-btn-padding-y: 3rem;
        --bs-btn-padding-x: 3rem;
        --bs-btn-font-size: 5rem;
      }
      input.input-lg {
        font-size: xx-large;
        text-align: center;
      }
      .btn-big {
        --bs-btn-padding-y: 1rem;
        --bs-btn-padding-x: 1rem;
        --bs-btn-font-size: 2rem;
      }
      #qrcode img {
        display: inline-block !important;
        margin: 2rem 0rem;
      }
      #modalQRCode img {
        margin:auto;
        border: 1rem solid white;
      }
      body{
        background-color:white;
        color:black;
      }
      .Dark{
        background-color: rgb(31, 31, 31) !important;
        color:azure !important;
        .card.bg-light { background-color:rgb(0, 0, 0) !important; }
        input,select,textarea { background-color: rgb(86, 86, 86) !important; color: rgb(255, 255, 255) !important; }
      }
      .Spirit{
        background-color: rgb(143, 0, 0) !important;
        color:rgb(150, 150, 0) !important;
        .card.bg-light { background-color:rgb(109, 1, 1) !important; }
        input,select,textarea { background-color: rgb(255, 244, 89) !important; color: rgb(0, 0, 0) !important; }
      }
      .Plasma{
        background-color: rgb(86, 0, 136) !important;
        color:rgb(255, 255, 255) !important;
        .card.bg-light { background-color:rgb(57, 0, 74) !important; }
        input,select,textarea { background-color: rgb(43, 0, 60) !important; color: rgb(255, 255, 255) !important; }
      }
      .load{
        background-color: black;
        color:azure;
      }

    </style>
  </head>
  <body>
    <form>

      <!--Old dark mode stuff-->
      <!--@media (prefers-color-scheme: dark) { body { background-color:rgb(30, 0, 57); color:azure; } .card.bg-light { background-color:rgb(120, 0, 134) !important; } input,select,textarea { background-color: rgb(46, 46, 46) !important; color: azure !important; } .modal-content { background-color:rgb(87, 87, 87) } }-->

      <div class="container">
        <div class="row"><!--Formating--></div>
        <div class="row">
            <div class="col-md">
              <!--This creates a button that loads the latest verion of the app for some reason-->
              <button onclick="myFunction()">Load Newest Version</button>
              <script>
                function MyFunction(){
                  var reset = document.body;
                  element.classList.toggle("reset-mode")
                }
              </script>
            </div>
              <!--This makes a button that resets the form. The col text-end makes it on the right side of the screen-->
            <div class="col text-end">
              <input type="reset" value="Reset all fields" onClick="javascript:$('body').removeClass('was-validated');">
            </div>

        </div>
        <!--These change the colors of the form making different themes. It runs a function
        that sets the colors in the style section above-->
        <div class ="col text-center">
          <div class="row-md">
            <input type="button" value="Cobra Mode" onclick="Dark()"/>
            <script>
              function Dark() {
                var element = document.body;
                element.classList.toggle("Dark")
              }
            </script>
          </div>

          <div class="col-md">
            <div class="row-md">
              <div class="col-md">
                <input type="button" value="CocoNuts Mode" onclick="Spirit()"/>
                <script>
                  function Spirit() {
                    var element = document.body;
                    element.classList.toggle("Spirit")
                  }
                </script>
              </div>

              <div class="row-md">
                <input type="button" value="Plasma Mode" onclick="Plasma()"/>
                <script>
                  function Plasma() {
                    var element = document.body;
                    element.classList.toggle("Plasma")
                  }
                </script>
              </div>
            </div>
          </div>
        </div>

        <!--This is the part of the form that the data is recorded in variables-->
        <div class="row">
    
          <div class="col-md">
            <!--These are the team numbers and corrasponding names in the drop down menu-->
            <label for="TeamNumber-input" class="form-label">Team Number</label>
            <select class="form-control" id="TeamNumber-input" required
              onchange="$('#TeamName-input').val(this.options[this.selectedIndex].dataset.teamname);">
              <option disabled selected value="">(select team)</option>
              <!-- Change team numbers here -->
              <option value="60" data-teamname="The Bionic Bulldogs">60</option>
              <option value="597" data-teamname="The Wolverines">597</option>
              <option value="687" data-teamname="The Nerd Herd">687</option>
              <option value="701" data-teamname="RoboVikes">701</option>
              <option value="987" data-teamname="HIGHROLLERS">987</option>
              <option value="988" data-teamname="Steel Phoenix">988</option>
              <option value="991" data-teamname="BroncoBots">991</option>
              <option value="1388" data-teamname="Eagle Robotics">1388</option>
              <option value="2403" data-teamname="Plasma Robotics">2403</option>
              <option value="2486" data-teamname="CocoNuts">2486</option>
              <option value="3009" data-teamname="High Scalers">3009</option>
              <option value="3216" data-teamname="MRT">3216</option>
              <option value="4414" data-teamname="HighTide">4414</option>
              <option value="4421" data-teamname="FORGE Robotics">4421</option>
              <option value="4501" data-teamname="Humans">4501</option>
              <option value="4585" data-teamname="Husky Robotics">4585</option>
              <option value="5049" data-teamname="Minerbots">5049</option>
              <option value="5429" data-teamname="Black Knights">5429</option>
              <option value="5653" data-teamname="Iron Mosquitos">5653</option>
              <option value="5851" data-teamname="Striking Vikings">5851</option>
              <option value="6510" data-teamname="Pymble Pride">6510</option>
              <option value="6824" data-teamname="LVA Robot Pigeons">6824</option>
              <option value="6825" data-teamname="THE STRONGHORNS">6825</option>
              <option value="6968" data-teamname="Team Pi">6968</option>
              <option value="7077" data-teamname="Sundevils' Fire">7077</option>
              <option value="7183" data-teamname="W.A.R.">7183</option>
              <option value="7235" data-teamname="Red Lake Ogichidaag">7235</option>
              <option value="7423" data-teamname="GrizzBot">7423</option>
              <option value="7425" data-teamname="Green Valley Robotics">7425</option>
              <option value="7426" data-teamname="PAIR OF DICE ROBOTICS">7426</option>
              <option value="7654" data-teamname="Robot In Box">7654</option>
              <option value="7673" data-teamname="Formosan Sika">7673</option>
              <option value="8005" data-teamname="Mega MeadowBots">8005</option>
              <option value="8022" data-teamname="Raging Hawk Robotics">8022</option>
              <option value="8387" data-teamname="MECH Mavericks">8387</option>
              <option value="8717" data-teamname="Cyber Vipers">8717</option>
              <option value="9002" data-teamname="RoboFalcons">9002</option>
              <option value="9018" data-teamname="ElRobotiKO">9018</option>
              <option value="9125" data-teamname="Mechanical Magicians">9125</option>
              <option value="9151" data-teamname="RoboLynx">9151</option>
              <option value="9287" data-teamname="Bionic Bengals">9287</option>
              <option value="9400" data-teamname="BagelBytes">9400</option>
              <option value="9426" data-teamname="Galena CLAWBOTICS">9426</option>
              <option value="9534" data-teamname="Wolves Robotics">9534</option>
              <option value="9539" data-teamname="Junk Bots">9539</option>
    
            </select>
            <!--<input type="number" class="form-control" id="TeamNumber-input" min="1" required>-->

            <!--These are the buttons/switchs in the form-->
            <div class="invalid-feedback">Please set the team number.</div>
          </div>
    
          <div class="col-md">
            <label for="TeamName-input" class="form-label">Team Name</label>
            <input type="text" class="form-control" id="TeamName-input">
          </div>
    
          <div class="col-md">
            <label for="Match-input" class="form-label">Match</label>
            <input type="number" class="form-control" id="Match-input" min="1" required>
    
            <div class="invalid-feedback">Please set the match number.</div>
          </div>
    
        </div><!-- /.row -->
          <!--This creates a seperate card with its own background color to help with graphic design-->
        <div class="card card-body bg-light mt-4">
          <!--Auto Stuff-->
          <h2>Auto</h2>
          <!--Auto Mobility-->
          <div class="row">
            <div class="col-md">
              <label for="moved-input" class="form-label">Left Zone?</label>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="moved-input" id="moved-1" value="1" required>
                <label class="form-check-label" for="moved-1">Yes</label>
              </div>
    
              <div class="form-check">
                <input class="form-check-input" type="radio" name="moved-input" id="moved-0" value="0" required>
                <label class="form-check-label" for="moved-0">No</label>
                <div class="invalid-feedback">Please indicate if the robot left the zone.</div>
              </div>
    
            </div>
          </div><!-- /.row -->
          <!--Scoring in speaker during auto-->
          <label class="form-label" for="autoSpeaker-input">Auto Speaker</label>
          <div class="row">
            <div class="col">
              <!--This makes a green button that when pressed increases the value by 1-->
              <a class="btn btn-big btn-success form-control" href="javascript:changeValue($('#autoSpeaker-input'),1)">+1</a>
            </div>
    
            <div class="col">
              <!--Makes the minimum value 0-->
              <input type="number" class="form-control mt-2 input-lg" id="autoSpeaker-input" min="0" value="0" required>
            </div>
    
            <div class="col">
              <!--This makes a red button that decreses the value by 1 when pressed-->
              <a class="btn btn-big btn-danger form-control"
                href="javascript:changeValue($('#autoSpeaker-input'),-1)">-1</a>
            </div>
          </div><!-- /.row -->
          <!--scoring in amp during auto-->
          <label class="form-label" for="autoAmp-input">Auto Amp</label>
          <div class="row">
            <div class="col">
              <a class="btn btn-big btn-success form-control" href="javascript:changeValue($('#autoAmp-input'),1)">+1</a>
            </div>
    
            <div class="col">
              <input type="number" class="form-control mt-2 input-lg" id="autoAmp-input" min="0" value="0" required>
            </div>
    
            <div class="col">
              <a class="btn btn-big btn-danger form-control" href="javascript:changeValue($('#autoAmp-input'),-1)">-1</a>
            </div>
          </div><!-- /.row -->
        </div><!-- /.card -->
    
    
        <div class="card card-body bg-light mt-4">
          <!--TeleOp stuff-->
          <h2>Score</h2>
          <!--Scoring in speaker during teleOp-->
          <label class="form-label" for="speaker-input">Speaker</label>
          <div class="row">
            <div class="col">
              <a class="btn btn-big btn-success form-control" href="javascript:changeValue($('#speaker-input'),1)">+1</a>
            </div>
    
            <div class="col">
              <input type="number" class="form-control mt-2 input-lg" id="speaker-input" min="0" value="0" required>
            </div>
    
            <div class="col">
              <a class="btn btn-big btn-danger form-control" href="javascript:changeValue($('#speaker-input'),-1)">-1</a>
            </div>
          </div><!-- /.row -->
          <!--Scoring in amp during teleOp-->
          <label class="form-label" for="amp-input">Amp</label>
          <div class="row">
            <div class="col">
              <a class="btn btn-big btn-success form-control" href="javascript:changeValue($('#amp-input'),1)">+1</a>
            </div>
            <div class="col">
              <input type="number" class="form-control mt-2 input-lg" id="amp-input" min="0" value="0" required>
            </div>
            <div class="col">
              <a class="btn btn-big btn-danger form-control" href="javascript:changeValue($('#amp-input'),-1)">-1</a>
            </div>
          </div><!-- /.row -->
          <!--Scoring in trap-->
          <label class="form-label" for="trap-input">Trap</label>
          <div class="row">
            <div class="col">
              <a class="btn btn-big btn-success form-control" href="javascript:changeValue($('#trap-input'),1)">+1</a>
            </div>
    
            <div class="col">
              <input type="number" class="form-control mt-2 input-lg" id="trap-input" min="0" value="0" required>
            </div>
    
            <div class="col">
              <a class="btn btn-big btn-danger form-control" href="javascript:changeValue($('#trap-input'),-1)">-1</a>
            </div>
          </div><!-- /.row -->
        </div><!-- /.card -->
    
    
        <div class="card card-body bg-light mt-4">
    
          <h2>Information</h2>
    
          <div class="row">
            <div class="col-md">
              <!--Where the robot can pickup pieces from: ex. ground or human player station-->
              <label for="pickup-input" class="form-label">Pickup Location</label>
    
              <div class="form-check">
                <input class="form-check-input" type="radio" name="pickup-input" id="pickup-0" value="0" required>
                <label class="form-check-label" for="pickup-0">Neither</label>
              </div>
    
              <div class="form-check">
                <input class="form-check-input" type="radio" name="pickup-input" id="pickup-1" value="1" required>
                <label class="form-check-label" for="pickup-1">Ground</label>
              </div>
    
              <div class="form-check">
                <input class="form-check-input" type="radio" name="pickup-input" id="pickup-2" value="2" required>
                <label class="form-check-label" for="pickup-2">Station</label>
              </div>
    
              <div class="form-check">
                <input class="form-check-input" type="radio" name="pickup-input" id="pickup-3" value="3" required>
                <label class="form-check-label" for="pickup-3">Both</label>
                <div class="invalid-feedback">Please indicate where the robot can pick up notes</div>
              </div>

            </div>
            <div class="col-md">
            <!--If the robot can climb the chain and if the can climb with another bot-->
              <label for="climb-input" class="form-label">Climb</label>
    
              <div class="form-check">
                <input class="form-check-input" type="radio" name="climb-input" id="climb-0" value="0" required>
                <label class="form-check-label" for="climb-0">No</label>
              </div>
              <div class="col-md">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="climb-input" id="climb-1" value="1" required>
                  <label class="form-check-label" for="climb-1">First</label>
                </div>
              </div>
              <div class="col-md">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="climb-input" id="climb-2" value="2" required>
                  <label class="form-check-label" for="climb-2">After</label>
                </div>
                  <div class="invalid-feedback">Please indicate where the robot can climb on the chain</div>
              </div>

            </div>
            <div class="col-md">
              <!--What role the robot plays, do they play defense or offense or something else-->
              <label for="role-input" class="form-label">Role</label>
      
              <div class="form-check">
                <input class="form-check-input" type="radio" name="role-input" id="role-1" value="1" required>
                <label class="form-check-label" for="role-1">Defense</label>
              </div>
              <div class="col-md">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="role-input" id="role-2" value="2" required>
                  <label class="form-check-label" for="role-2">Offense</label>
                </div>
              </div>
              <div class="col-md">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="role-input" id="role-3" value="3" required>
                  <label class="form-check-label" for="role-3">Feeder</label>
                </div>
              </div>
              <div class="col-md">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="role-input" id="role-4" value="4" required>
                  <label class="form-check-label" for="role-4">other</label>
                </div>
                  <div class="invalid-feedback">Please indicate what role the robot played</div>
              </div>
            </div>

          </div>  
          <div class="row">
            <div class="col-md">
              <!--Did the robot break: ex. arm fell off, bumper fell off, robot explodes-->
              <label for="broken-input" class="form-label">Broken</label>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="broken-input" id="broken-1" value="1" required>
                <label class="form-check-label" for="broken-1">Yes</label>
              </div>

              <div class="form-check">
                <input class="form-check-input" type="radio" name="broken-input" id="broken-0" value="0" required>
                <label class="form-check-label" for="broken-0">No</label>
                <div class="invalid-feedback">Please indicate wheither the robot was broken or not</div>
              </div>
            </div>

            <div class="col-md">
              <!--Did the robot get disabled during the match-->
              <label for="disabled-input" class="form-label">Disabled</label>
    
              <div class="form-check">
                <input class="form-check-input" type="radio" name="disabled-input" id="disabled-1" value="1" required>
                <label class="form-check-label" for="disabled-1">Yes</label>
              </div>
              
              <div class="form-check">
                <input class="form-check-input" type="radio" name="disabled-input" id="disabled-0" value="0" required>
                <label class="form-check-label" for="disabled-0">No</label>
                <div class="invalid-feedback">Please indicate wheither the robot was disabled or not</div>
              </div>
            </div>

            <!--To center the disabled and broken with role, climb, and pickup-->
            <div class="col-md">
            
            </div>
          </div><!-- /.row -->
        </div><!-- /.card -->
    
        

        <div class="row">
          <div class="col-md-8">
            <!--any aditional things that can't be recorded manually-->
            <label class="form-label" for="comment-input">Comment</label>
            <textarea class="form-control" id="comment-input" rows="6"></textarea>
          </div>
          <div class="col-md-4">
            <a href="javascript:showCodeModal()" class="btn btn-primary btn-big form-control mt-5" >Get Code</a>
          </div>
        </div><!-- /.row -->
    
      </div><!-- /.container-->
    </form>

    <!-- Modal -->
    <div class="modal fade" id="codeModal" tabindex="-1" aria-labelledby="codeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="codeModalLabel">Code</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center">
            <div id="modalQRCode"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">

      function changeValue(ctl,val) {
        ctl.val( isNaN(parseInt(ctl.val())) ? 1 : parseInt(ctl.val()) + val );
        if (ctl.val() < 0) {ctl.val("0")}
      }
      //This allows data to be moved from here into a data visualization tool, its in JavaScript
      
      const codeModal = new bootstrap.Modal('#codeModal', {});
      function showCodeModal() {
        $('body').addClass('was-validated');
        $('#modalQRCode').html(""); // clear the QR div's previous content
        $('#codeModalLabel').html('Team ' + $('#TeamNumber-input').val() + ' ' + $('#TeamName-input').val() + ' - Match '+ $('#Match-input').val());
        if ($(
                '#TeamNumber-input:valid').length > 0
              && $('#Match-input:valid').length > 0
              && $("input[Name='moved-input']:valid").length > 0
              && $("input[Name='pickup-input']:valid").length > 0
              && $("input[Name='climb-input']:valid").length > 0
              && $("input[Name='role-input']:valid").length > 0
              && $("input[Name='broken-input']:valid").length > 0
              && $("input[Name='disabled-input']:valid").length > 0

//              && $("input[Name='role-input']:valid").length > 0
        ){
          var data= '{'
                  + '"TeamNumber":'     + JSON.stringify($("#TeamNumber-input").val())
                  + ',"Match":'         + JSON.stringify($("#Match-input").val())
                  + ',"moved":'         + JSON.stringify($("input[name='moved-input']:checked").val())
                  + ',"autoSpeaker":'   + JSON.stringify($("#autoSpeaker-input").val())
                  + ',"autoAmp":'       + JSON.stringify($("#autoAmp-input").val())
                  + ',"speaker":'       + JSON.stringify($("#speaker-input").val())
                  + ',"amp":'           + JSON.stringify($("#amp-input").val())
                  + ',"trap":'          + JSON.stringify($("#trap-input").val())
                  + ',"pickup":'        + JSON.stringify($("input[name='pickup-input']:checked").val())
                  + ',"climb":'         + JSON.stringify($("input[name='climb-input']:checked").val())
                  + ',"role":'          + JSON.stringify($("input[name='role-input']:checked").val())
                  + ',"broken":'        + JSON.stringify($("input[name='broken-input']:checked").val())
                  + ',"disabled":'      + JSON.stringify($("input[name='disabled-input']:checked").val())
                  + ',"Comment":'       + JSON.stringify($("#comment-input").val())
                  + '}';
          new QRCode(document.getElementById("modalQRCode"), {text:data,width:800,height:800,correctLevel:QRCode.CorrectLevel.L});
          $('#modalQRCode > img').addClass('img-fluid');
          codeModal.show();
        }
      }
    </script>
  </body>
</html>
